/*
 * Intelligist
 * Version 1.0
 * http://srobbin.com/jquery-plugins/intelligist/
 *
 * a jQuery plugin that makes it easy to share multiple, executable GitHub gists
 *
 * Copyright (c) 2012 Scott Robbin (srobbin.com)
 * Licensed under the MIT license.
*/

;(function(a){a.fn.intelligist=function(g,h){function i(){a(document).ready(function(){$select=a("<select />");a.each(g,function(d,c){a("<option />").val(d).text(c).appendTo($select)});1<j&&$select.prependTo(b).chosen().change(function(){k(a(this).val())}).next(".chzn-container").css({marginBottom:20,width:"100%"}).find(".chzn-drop").css({width:"100%","-moz-box-sizing":"border-box","-ms-box-sizing":"border-box","box-sizing":"border-box"}).end().find(".chzn-search input").css({width:"95%"});k($select.val())})}function k(d){var b="https://gist.github.com/"+d+".js";f.before(l,d);l=d;document._write=document.write;document.write=function(a){c.append(a)};c.height(c.height()).empty();a.getScript(b,function(){document.write=document._write;c.height("auto");if(f.exec){var b=c.find('a[href^="https://gist.github.com/raw/"]').attr("href").split(".").pop(),e=c.find(".gist-data").text(),e=e.replace(/[^A-Za-z 0-9 \"\.,\?''!@#\$%\^&\*\(\)-_=\+;:<>\/\\\|\}\{\[\]`~]*/g,"");switch(b){case "js":eval(e);break;case "css":m.html(a("<style>"+e+"</style>"));break;default:m.html(e)}f.after(d)}})}if(!(0==this.length||a.isEmptyObject(g))){var b=a(this[0]);a("body");var c=a("<div />").appendTo(b),m=a("<div />").appendTo(b).css({position:"absolute",left:-999999}),j=a.map(g,function(a){return a}).length,l,f={exec:!1,before:function(){},after:function(){}};h&&"object"==typeof h&&a.extend(f,h);!("chosen"in a.fn)&&1<j?(a("<link />").attr({rel:"stylesheet",type:"text/css",href:"http://srobbin.github.com/chosen/chosen.css"}).appendTo(b),a.getScript("http://srobbin.github.com/chosen/chosen.jquery.min.js",i)):i()}}})(jQuery);